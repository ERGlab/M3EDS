<style>
  #myDiv {
    padding-top: 4%;
    padding-left: 10%;
    padding-right: 10%;
    padding-bottom: 4%;
	}
  .code-box {
      width: 70%; /* 设置固定宽度 */
      height: auto; /* 自适应高度 */
      border: 1px solid #ccc;
      border-radius: 0%;
      background-color: #f1f1f1;
      padding: 1%;
      overflow: auto; /* 添加滚动条以适应内容过长的情况 */

    }
  .report-img {
  width: auto;
  height: auto;
}
</style>

<body>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="M3EDS-dataset"/>
  <meta name="keywords" content="M3EDS-dataset"/>
  <meta name="author" content="hsl"/>
  <title>M3EDS-dataset
  </title>
  <link rel="shortcut icon" href="https://erglab.github.io/M3EDS/picture/icon.png"/>
  <link rel="stylesheet" href="https://erglab.github.io/M3EDS/css/plugins.css"/>
  <link rel="stylesheet" href="https://erglab.github.io/M3EDS/css/style.css"/>
  <link rel="stylesheet" href="https://erglab.github.io/M3EDS/css/pink.css"/>
  <nav id="sticky-navbar" class="navbar navbar-expand-lg fancy navbar-light navbar-bg-light transparent navbar-clone fixed">
    <div class="container">
      <div class="navbar-collapse-wrapper bg-white d-flex flex-row flex-nowrap w-100 justify-content-between align-items-center">
        <div class="navbar-brand w-100">
          <a href="https://erglab.github.io/M3EDS/index.html">
            <img src="https://erglab.github.io/M3EDS/picture/icon.png" alt="" />
          </a>
        </div>
        <div class="navbar-collapse offcanvas offcanvas-nav offcanvas-start">
          <div class="offcanvas-header d-lg-none">
            <h3 class="text-white fs-30 mb-0">M3EDS</h3>
            <button type="button" data-bs-dismiss="offcanvas" aria-label="Close" class="btn-close btn-close-white"></button>
          </div>
          <div class="offcanvas-body ms-lg-auto d-flex flex-column h-100">
            <ul class="navbar-nav">
              <li class="nav-item"><a href="https://erglab.github.io/M3EDS/index.html" class="nav-link">Home</a></li>
              <li class="nav-item dropdown">
                <a href="#" data-bs-toggle="dropdown" class="nav-link">Download</a>
                <ul class="dropdown-menu">
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Download/Driving.html" class="dropdown-item">Driving</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Download/UGV.html" class="dropdown-item">UGV</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Download/UAV.html" class="dropdown-item">UAV</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Download/Handheld.html" class="dropdown-item">Handheld</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Download/Quadruped_robot.html" class="dropdown-item">Quadruped robot</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a href="#" data-bs-toggle="dropdown" class="nav-link">Tools</a>
                <ul class="dropdown-menu">
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/Event_Camera_Driver.html" class="dropdown-item">Event Camera Driver</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/Event_Reconstruction_Image.html" class="dropdown-item">Event Reconstruction Image</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/RGB-D_Camera_Driver.html" class="dropdown-item">RGB-D Camera Driver</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/VLP-32C_Driver.html" class="dropdown-item">VLP-32C Driver</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/Mid-360_Driver.html" class="dropdown-item">Mid-360 Driver</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/ROS_Uart_Package_of_GNSS.html" class="dropdown-item">ROS Uart Package of GNSS</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/Sensor_Synchronization.html" class="dropdown-item">Sensor Synchronization</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Tools/Data_Pre-process.html" class="dropdown-item">Data Pre-process</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a href="#" data-bs-toggle="dropdown" class="nav-link">Calibration</a>
                <ul class="dropdown-menu">
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Calibration/Event_Camera_Intrinsics.html" class="dropdown-item">Event Camera Intrinsics</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Calibration/Event_Camera_and_IMU_Extrinsic.html" class="dropdown-item">Event Camera and IMU Extrinsic</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Calibration/Standard_Camera_Intrinsics.html" class="dropdown-item">Standard Camera Intrinsics</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Calibration/Standard_Camera_and_IMU_Extrinsic.html" class="dropdown-item">Standard Camera and IMU Extrinsic</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Calibration/Camera-LiDAR_Extrinsic.html" class="dropdown-item">Camera-LiDAR Extrinsic</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Calibration/LiDAR-IMU_Extrinsic.html" class="dropdown-item">LiDAR-IMU Extrinsic</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Calibration/IMU_Intrinsic_Calibration.html" class="dropdown-item">IMU Intrinsic Calibration</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a href="#" data-bs-toggle="dropdown" class="nav-link">Benchmark Evaluation</a>
                <ul class="dropdown-menu">
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/VINS-Mono.html" class="dropdown-item">VINS-Mono</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/VINS-Fusion.html" class="dropdown-item">VINS-Fusion</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/GVINS.html" class="dropdown-item">GVINS</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/ORB-SLAM3.html" class="dropdown-item">ORB-SLAM3</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/DSO.html" class="dropdown-item">DSO</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/DM-VIO.html" class="dropdown-item">DM-VIO</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/EnVIO.html" class="dropdown-item">EnVIO</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/EVO.html" class="dropdown-item">EVO</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/Ultimate-SLAM.html" class="dropdown-item">Ultimate-SLAM</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/ESVO.html" class="dropdown-item">ESVO</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/PL-EVIO.html" class="dropdown-item">PL-EVIO</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/ESVIO.html" class="dropdown-item">ESVIO</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/A-LOAM.html" class="dropdown-item">A-LOAM</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LeGO-LOAM.html" class="dropdown-item">LeGO-LOAM</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LIO-Mapping.html" class="dropdown-item">LIO-Mapping</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LIO-SAM.html" class="dropdown-item">LIO-SAM</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LVI-SAM.html" class="dropdown-item">LVI-SAM</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/Fast-LIO2.html" class="dropdown-item">Fast-LIO2</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/Fast-LIVO.html" class="dropdown-item">Fast-LIVO</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a href="#" data-bs-toggle="dropdown" class="nav-link">Contact Us </a>
                <ul class="dropdown-menu">                      
                  <li class="nav-item">
                    <a href="http://www.fsgraduate.neu.edu.cn/2021/0916/c8025a203219/page.htm" class="dropdown-item">Xiaoguang Ma</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://www.mech.hku.hk/academic-staff/Lu-P" class="dropdown-item">Peng Lu</a>
                  </li>
                </ul>
              </li>
            </ul><!-- /.navbar-nav -->
          </div><!-- /.offcanvas-body -->
        </div><!-- /.navbar-collapse -->
        <div class="navbar-other w-100 d-flex ms-auto">
          <ul class="navbar-nav flex-row align-items-center ms-auto">
            <li class="nav-item d-lg-none"><button class="hamburger offcanvas-nav-btn"><span></span></button></li>
          </ul>
        </div>
      </div><!-- /.navbar-collapse-wrapper -->
    </div><!-- /.container -->
  </nav>
  <!--导航栏-->
  <div class="content-wrapper">
    <header class="wrapper bg-gray">
      <nav class="navbar navbar-expand-lg fancy navbar-light navbar-bg-light">
        <div class="container">
          <div class="navbar-collapse-wrapper bg-white d-flex flex-row flex-nowrap w-100 justify-content-between align-items-center">
            <div class="navbar-brand w-100">
              <a href=""><img src="https://erglab.github.io/M3EDS/picture/icon.png" alt=""/></a>
            </div>
            <div class="navbar-collapse offcanvas offcanvas-nav offcanvas-start">
              <div class="offcanvas-header d-lg-none">
                <h3 class="text-white fs-30 mb-0">
                </h3>
                <button type="button" data-bs-dismiss="offcanvas" aria-label="Close" class="btn-close btn-close-white"></button>
              </div>
              <div class="offcanvas-body ms-lg-auto d-flex flex-column h-100">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a href="https://erglab.github.io/M3EDS/index.html" class="nav-link">Home</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a href="#" data-bs-toggle="dropdown" class="nav-link">Download</a>
                    <ul class="dropdown-menu">
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Download/Driving.html" class="dropdown-item">Driving</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Download/UGV.html" class="dropdown-item">UGV</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Download/UAV.html" class="dropdown-item">UAV</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Download/Handheld.html" class="dropdown-item">Handheld</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Download/Quadruped_robot.html" class="dropdown-item">Quadruped robot</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a href="#" data-bs-toggle="dropdown" class="nav-link">Tools</a>
                    <ul class="dropdown-menu">
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/Event_Camera_Driver.html" class="dropdown-item">Event Camera Driver</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/Event_Reconstruction_Image.html" class="dropdown-item">Event Reconstruction Image</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/RGB-D_Camera_Driver.html" class="dropdown-item">RGB-D Camera Driver</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/VLP-32C_Driver.html" class="dropdown-item">VLP-32C Driver</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/Mid-360_Driver.html" class="dropdown-item">Mid-360 Driver</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/ROS_Uart_Package_of_GNSS.html" class="dropdown-item">ROS Uart Package of GNSS</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/Sensor_Synchronization.html" class="dropdown-item">Sensor Synchronization</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Tools/Data_Pre-process.html" class="dropdown-item">Data Pre-process</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a href="#" data-bs-toggle="dropdown" class="nav-link">Calibration</a>
                    <ul class="dropdown-menu">
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Calibration/Event_Camera_Intrinsics.html" class="dropdown-item">Event Camera Intrinsics</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Calibration/Event_Camera_and_IMU_Extrinsic.html" class="dropdown-item">Event Camera and IMU Extrinsic</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Calibration/Standard_Camera_Intrinsics.html" class="dropdown-item">Standard Camera Intrinsics</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Calibration/Standard_Camera_and_IMU_Extrinsic.html" class="dropdown-item">Standard Camera and IMU Extrinsic</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Calibration/Camera-LiDAR_Extrinsic.html" class="dropdown-item">Camera-LiDAR Extrinsic</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Calibration/LiDAR-IMU_Extrinsic.html" class="dropdown-item">LiDAR-IMU Extrinsic</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Calibration/IMU_Intrinsic_Calibration.html" class="dropdown-item">IMU Intrinsic Calibration</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a href="#" data-bs-toggle="dropdown" class="nav-link">Benchmark Evaluation</a>
                    <ul class="dropdown-menu">
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/VINS-Mono.html" class="dropdown-item">VINS-Mono</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/VINS-Fusion.html" class="dropdown-item">VINS-Fusion</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/GVINS.html" class="dropdown-item">GVINS</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/ORB-SLAM3.html" class="dropdown-item">ORB-SLAM3</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/DSO.html" class="dropdown-item">DSO</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/DM-VIO.html" class="dropdown-item">DM-VIO</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/EnVIO.html" class="dropdown-item">EnVIO</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/EVO.html" class="dropdown-item">EVO</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/Ultimate-SLAM.html" class="dropdown-item">Ultimate-SLAM</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/ESVO.html" class="dropdown-item">ESVO</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/PL-EVIO.html" class="dropdown-item">PL-EVIO</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/ESVIO.html" class="dropdown-item">ESVIO</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/A-LOAM.html" class="dropdown-item">A-LOAM</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LeGO-LOAM.html" class="dropdown-item">LeGO-LOAM</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LIO-Mapping.html" class="dropdown-item">LIO-Mapping</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LIO-SAM.html" class="dropdown-item">LIO-SAM</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/LVI-SAM.html" class="dropdown-item">LVI-SAM</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/Fast-LIO2.html" class="dropdown-item">Fast-LIO2</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://erglab.github.io/M3EDS/html/Benchmark_Evaluation/Fast-LIVO.html" class="dropdown-item">Fast-LIVO</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a href="#" data-bs-toggle="dropdown" class="nav-link">Contact Us </a>
                    <ul class="dropdown-menu">
                      
                      <li class="nav-item">
                        <a href="http://www.fsgraduate.neu.edu.cn/2021/0916/c8025a203219/page.htm" class="dropdown-item">Xiaoguang Ma</a>
                      </li>
                      <li class="nav-item">
                        <a href="https://www.mech.hku.hk/academic-staff/Lu-P" class="dropdown-item">Peng Lu</a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>  
            </div>
            <!-- /.navbar-other -->
          </div>
          <!-- /.navbar-collapse-wrapper -->
        </div>
        <!-- /.container -->
      </nav>
      <!-- /.navbar -->
    </header>
    <!-- /header -->


    <section class="wrapper bg-gray">
      <div id="myDiv">
        <h1 align="center">Event_Camera_Intrinsics</h1>
        <h6 align="center"> <a href="https://github.com/xukang2311">Xu Kang</a></h6>
	      <h2 id="简介：">简介：</h2>
	      <p>目前EventCamera的标定方案目前有.....(关师兄csdn上试过的那些),文章采用了通过e2vid重建图像的方法进行内参标定.在这里我们以dvs346为例展示一下事件相机标定过程结果,并通过对比其中图像与事件标定结果来验证方法有有效性</p>
	      <h2 id="流程：">流程：</h2>
	      <h3 id="1、录制rosbag包,话题包括事件、imu数据和图像数据">1、录制rosbag包,话题包括事件、imu数据和图像数据</h3>
	      <div class="code-box">
        <code>rosbag record /capture_node/camera/image /capture_node/events /capture_node/imu -O out.bag
	      </code></div>
        <p>
          --/capture_node/camera/image 图像话题<br>
          --/capture_node/events 事件话题<br>
          --/capture_node/imu imu话题<br>
          --out.bag 文件名<br>
        </p>
	      <h3 id="2、图像内参标定">2、图像内参标定</h3>
	      <p>使用kalibr或者matlab(需要将rosbag中的图像导出)</p>
	      <h4 id="(1)kalibr">(1)kalibr</h4>
        <h5>i.install</h4>
          <p>
            前往kalibr的官网根据教程进行安装,链接为：
            <a href="https://github.com/ethz-asl/kalibr">https://github.com/ethz-asl/kalibr</a>
          </p>
        <h5>ii.calib</h4>
        <p>进入kalibr工作空间内运行以下指令(可能需要先source devel/setup.bash 一下)</p>
        <div class="code-box">
        <code>rosrun kalibr kalibr_calibrate_cameras --bag out.bag --topics /capture_node/camera/image --models pinhole-radtan --target checkerboard.yaml
	      </code></div>
        <p>
          --bag 含有所需标定话题的rosbag包,这里是上面录制的out.bag<br>
          --topics 待标定图像的topic,这里是/capture_node/camera/image<br>
          --models 相机模型<br>
          --target 标定板的一些参数<br>
        </p>
	      <p>结果如下:</p>
        <div class="code-box">
          <code>
            cam0:<br>
            cam_overlaps: []<br>
            camera_model: pinhole<br>
            distortion_coeffs: [-0.38176694245439546, 0.14885485907996424, 3.70127391038794e-05, -0.00017056761391653452]<br>
            distortion_model: radtan<br>
            intrinsics: [252.37893909717883, 252.40414164107983, 173.4386346201833, 120.19819514545445]<br>
            resolution: [346, 260]<br>
            rostopic: /capture_node/camera/image<br>
          </code></div>
          <p></p>
        <figure align="center">
          <img class="report-img" src="Event_Camera_Intrinsics/dvs346/image/kalibr/reprojection_error.png" alt="Image description">
          <figcaption>Fig. 1. dvs346图像kalibr标定重投影误差 </figcaption>
        </figure>
        <figure align="center">
          <img class="report-img" src="Event_Camera_Intrinsics/dvs346/image/kalibr/intrinsics.png" alt="Image description">
          <figcaption>Fig. 2. dvs346图像kalibr标定结果 </figcaption>
        </figure>
	      <h4 id="2-matlab图像过多,最好先降低图像频率,后面与imu联合标定外参也要用到">(2) matlab(图像过多,最好先降低图像频率,后面与imu联合标定外参也要用到)</h4>
	      <h5 id="i降低图像数据频率(这里降为4hz)">i.降低图像数据频率(这里降为4hz)</h5>
        <p>首先开启一个终端运行roscore节点</p>
        <div class="code-box">
          <code>roscore
        </code></div>
	      <p>三个终端分别指令为（分先后顺序运行）：</p>
	      <p>降低频率：</p>
        <div class="code-box">
          <code>rosrun topic_tools throttle messages /capture_node/camera/image 4.0 /image_raw
        </code></div>
        <p>
          --/capture_node/camera/image  需要降低频率的话题名
          --/image_raw 降低频率后的话题名
        </p>
	      <p>录制降低频率后的image与imu:</p>
       <div class="code-box">
        <code>rosbag record /image_raw /capture_node/imu -O sample.bag(话题名改变了)
       </code></div>
       <p>
        --/image_raw 将降低频率后的图像话题重新跟imu一起录入
      </p>

	     <p>播放含有需要降低频率话题的rosbag包:</p>
       <div class="code-box">
        <code>rosbag play out.bag
       </code></div>
 
	     <p>这样就能得到一个包含4hz频率图像与imu数据的rosbag。</p>
       <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/1.png" alt="Image description">
        <figcaption>Fig. 3. 降低前后rosbag包对比图(上为处理前的，下为处理后的) </figcaption>
      </figure>

	     <h5 id="iirosbag图像导出">ii.rosbag图像导出</h5>
	     <p>可以参考：<a href="https://zhuanlan.zhihu.com/p/552617948">Link</a></p>
       <p>导出图像如图4所示:</p>
       <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/image/matlab/out_image.png" alt="Image description">
        <figcaption>Fig. 4. 从rosbag中导出的图像 </figcaption>
      </figure>
	     <h5 id="iii在matlab工具箱中进行标定">iii.在matlab工具箱中进行标定</h5>
       <p>将上述导出的图像导入至matlabCamera Calibrator工具箱中并点击上面的Calibrate进行标定:</p>
       <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/image/matlab/matlab1.png" alt="Image description">
        <figcaption>Fig. 5. matlab标定工具箱图像导入 </figcaption>
      </figure>

       <p>找出其中使重投影误差较大的图像并删去</p>
       <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/image/matlab/matlab2.png" alt="Image description">
        <figcaption>Fig. 6. 选中误差较大的图像并删去 </figcaption>
      </figure>

      <p>点击Export Camera Parameters将标定结果导出</p>
      <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/image/matlab/matlab3.png" alt="Image description">
        <figcaption>Fig. 7. 导出标定结果 </figcaption>
      </figure>

      <p>标定好的相机内参位于工作区中，内参标定结果如下图：</p>

      <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/image/matlab/matlab4.png" alt="Image description">
        <figcaption>Fig. 8. 内参标定结果 </figcaption>
      </figure>

	     <h3 id="3、事件相机内参标定">3、事件相机内参标定</h3>
       <p>对于事件相机内参,我们采用e2vid重建的方法重建出图像帧进行标定.</p>
       <h4>(1)e2vid</h4> 
       <p>具体方法详见网页tools中的Event Reconstruction Image
        <a href="https://erglab.github.io/M3EDS/html/Tools/Event_Reconstruction_Image.html">(Link)</a>.
       </p>
       <h4>(2)kalibr</h4> 
       <p>
        通过e2vid可以生成重建图像,运行python代码将图片转换为rosbag进行标定,转换代码链接为：
        <a href="https://erglab.github.io/M3EDS/html/Tools/Event_Reconstruction_Image.html">(Link)</a>.
       </p>
       <div class="code-box">
        <code>python images_to_rosbag.py --rosbag_folder /img_out --image_folder /e2calib --image_topic /dvs/image_reconstructed
       </code></div>
       <p> 
        --rosbag_folder rosbag输出文件夹<br>
        --image_topic rosbag中重建图像的topic<br>
        至此可以得到一个事件重建图像的rosbag包,可以采取上面图像内参kalibr标定方法进行标定,结果如图9所示:
       </p>
       <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/event/kalibr/intrinsics.png" alt="Image description">
        <figcaption>Fig. 9. 事件重建图像标定结果 </figcaption>
      </figure>
      <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/event/kalibr/reprojection_error.png" alt="Image description">
        <figcaption>Fig. 10. 重投影误差 </figcaption>
      </figure>

      <p> 
        注:使用重建图像进行kalibr标定会出现畸变异常的情况,上面标定的是正常的,但是在多次标定的过程中会出现如图11所示的畸变异常的情况
      </p>
      <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/event/kalibr/errord.png" alt="Image description">
        <figcaption>Fig. 11. 具有异常畸变的标定结果 </figcaption>
      </figure>
       
       <h4>(3)matlab</h4> 
      <p> 
        根据重建的图像在matlab工具箱标定,步骤与图像内参matlab标定方法相同,结果如下图12所示:
      <p> 
      <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/event/matlab/1.png" alt="Image description">
        <figcaption>Fig. 12. 事件重建图像标定内参 </figcaption>
      </figure>  
      <figure align="center">
        <img class="report-img" src="Event_Camera_Intrinsics/dvs346/event/matlab/error.png" alt="Image description">
        <figcaption>Fig. 12. 事件重建图像标定重投影误差 </figcaption>
      </figure>  

       <h2 id="对比分析">对比分析</h2>

       <p>标定结果如下：</p>
       <div class="code-box">
        <code>
          (1)kalibr标定结果<br>
          图像标定结果：<br>
          k : [ 252.3789391   252.40414164  173.43863462  120.19819515] <br>
          d : [-0.38176694  0.14885486  0.00003701 -0.00017057] <br>
          事件标定结果：<br>
          k : [ 253.84773123  253.88799685  174.01053551  123.19547128] <br>
          d : [-0.38261608  0.14698837 -0.00143755 -0.00033804] <br>
          (2)matlab标定结果<br>
          图像标定结果：<br>
          k : [ 252.3789391   252.40414164  173.43863462  120.19819515] <br>
          d : [-0.38176694  0.14885486  0.00003701 -0.00017057] <br>
          事件标定结果：<br>
          k : [ 253.84773123  253.88799685  174.01053551  123.19547128] <br>
          d : [-0.38261608  0.14698837 -0.00143755 -0.00033804] <br>

      </code></div>
       <p>
        将以上标定结果进行对比,可以发现采用的内参标定方法的事件与图像标定结果接近,可将其拓展到没有image的事件相机(如dvxplorer)
       </p>
       <h2 id="简介：">参考：</h2>
        <p> 
          Kalibr:<a href="https://github.com/ethz-asl/kalibr">https://github.com/ethz-asl/kalibr</a>
        </p>
        <p>
          E2vid:<a href="https://github.com/ethz-asl/kalibr">https://github.com/uzh-rpg/rpg_e2vid</a>
        </p>

     </div>
    </section>


  </div>
  


  <script src="https://erglab.github.io/M3EDS/js/plugins.js"></script>
  <script src="https://erglab.github.io/M3EDS/js/theme.js"></script>
</body>

